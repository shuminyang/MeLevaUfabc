-- PLEASE FOLLOW THIS ORDER IN PARTICULAR TO CREATE ALL THE TABLES--

CREATE TABLE USUARIO 
(
	ID INT NOT  NULL AUTO_INCREMENT,
	LOGIN VARCHAR(255) NOT NULL,
	SENHA VARCHAR(255) NOT NULL,
	PRIMARY KEY(ID),
	CONSTRAINT UNIQUE (LOGIN)
);

CREATE TABLE INFO_USUARIO
(
	ID INT NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(255),
	CPF VARCHAR(255),
	ENDERECO VARCHAR(255),
	EMAIL VARCHAR(255),
	DATA_NASCIMENTO DATE,
	DATA_INCLUSAO DATE,
	PRIMARY KEY (ID),
	FOREIGN KEY (ID) REFERENCES USUARIO(ID)
);

CREATE TABLE CARRO
(
	ID INT NOT NULL AUTO_INCREMENT,
	PLACA VARCHAR(255),
	LUGARES INT,
	ID_USUARIO INT,
	PRIMARY KEY (ID),
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID)
);

CREATE TABLE MOTORISTA
(
	ID INT NOT NULL AUTO_INCREMENT,
	ATIVO BOOLEAN,
	ID_USUARIO INT,
	PRIMARY KEY (ID),
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID)
);

CREATE TABLE CARONA
(
	ID INT NOT NULL AUTO_INCREMENT,
	LOCAL_PARTIDA VARCHAR(255),
	LOCAL_CHEGADA VARCHAR(255),
	N_LUGARES INT,
	DATA_HORARIO DATETIME,
	HORARIO_CHEGADA DATETIME,
	CUSTO VARCHAR(255),
	ATIVO BOOLEAN,
	PRIMARY KEY (ID),
	FOREIGN KEY (ID) REFERENCES MOTORISTA(ID)
);

CREATE TABLE PASSAGEIRO
(
	ID INT NOT NULL AUTO_INCREMENT,
	ATIVO BOOLEAN,
	ID_USUARIO INT,
	ID_CARONA INT,
	PRIMARY KEY (ID),
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID),
	FOREIGN KEY (ID_CARONA) REFERENCES CARONA(ID)
);
